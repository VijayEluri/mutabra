<html t:type="layout/default"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd">

<t:form class="form-horizontal">
    <t:form.formerrors/>

    <div class="row">
        <div t:type="zone" t:id="faceMenu" id="faceMenu" class="col-md-3">
            <div class="list-group">
                <t:loop source="faceParts" value="facePart" formState="none">
                    <t:actionlink t:id="menuLink" context="facePart" zone="faceSelect"
                                  class="list-group-item${facePartCssClass}">
                        ${facePartLabel}
                    </t:actionlink>
                </t:loop>
            </div>
        </div>

        <div class="col-md-5">
            <t:hero.herofaceedit id="face"
                                 appearance="hero.appearance"
                                 width="350"
                                 height="350"
                    />

            <span class="help-block">
                ${message:hint.random-generation}
            </span>
        </div>

        <div t:type="zone" t:id="faceSelect" id="faceSelect" class="col-md-4">
            <t:delegate to="facePartContent"/>

            <t:block t:id="race">
                <t:hero.herofaceselect id="raceSelect" source="raceDataSource" target="face" part="race"/>
            </t:block>
            <t:block t:id="sex">
                <t:hero.herofaceselect id="sexSelect" source="sexDataSource" target="face" part="sex"/>
            </t:block>
            <t:block t:id="ears">
                <t:hero.herofaceselect id="earsSelect" source="facePartDataSource" target="face" part="ears"/>
            </t:block>
            <t:block t:id="face">
                <t:hero.herofaceselect id="shapeSelect" source="facePartDataSource" target="face" part="face"/>
            </t:block>
            <t:block t:id="eyes">
                <t:hero.herofaceselect id="eyesSelect" source="facePartDataSource" target="face" part="eyes"/>
            </t:block>
            <t:block t:id="eyebrows">
                <t:hero.herofaceselect id="eyebrowsSelect" source="facePartDataSource" target="face" part="eyebrows"/>
            </t:block>
            <t:block t:id="nose">
                <t:hero.herofaceselect id="noseSelect" source="facePartDataSource" target="face" part="nose"/>
            </t:block>
            <t:block t:id="mouth">
                <t:hero.herofaceselect id="mouthSelect" source="facePartDataSource" target="face" part="mouth"/>
            </t:block>
            <t:block t:id="hair">
                <t:hero.herofaceselect id="hairSelect" source="facePartDataSource" target="face" part="hair"/>
            </t:block>

            <t:block t:id="name">
                <input type="text" value="${hero.appearance.name}" class="form-control"
                       data-toggle="face-title" data-target="#face" data-part="name"/>
            </t:block>
        </div>
    </div>

    <hr/>
    <div class="btn-toolbar">
        <t:submit value="message:button.create" class="btn btn-primary"/>
        <t:pagelink page="game/gamehome" class="btn btn-default">${message:button.cancel}</t:pagelink>
    </div>

</t:form>

</html>
