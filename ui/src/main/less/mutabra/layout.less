// Copyright (c) 2008-2013 Ivan Khalopik.
// All rights reserved.

//
// Layout
// --------------------------------------------------

// Static bottom footer
html {
  height: 100%;
}

body {
  height: 100%;
  margin: 0;
}

// Default page layout
.page {
  min-height: 100%;
  margin-bottom: -@page-footer-height;

  .buffer {
    height: @page-footer-height;
  }

  .wrapper {
    padding: @grid-gutter-width - 1;
    background-color: @mutabra-foreground;
    border: 1px solid @mutabra-border;
    border-radius: @grid-gutter-width;
  }

  + footer {
    padding-top: 10px;
    padding-bottom: 10px;
    text-align: center;
  }
}

// Auth page layout
.page-sm {
  position: relative;
  margin-top: -(floor(@page-small-height / 2));
  top: 50%;

  .wrapper {
    .page > .wrapper();
    margin: auto;
    float: none;
  }

  footer {
    padding-top: 10px;
    padding-bottom: 10px;
    text-align: center;
  }
}

// Static top navbar styles
.navbar-static-top {
  margin-top: @navbar-margin-top;
  margin-bottom: 0;
  border: 0;

  .navbar-brand {
    background: url(@logo-path) no-repeat;
    margin-top: @logo-margin-top;
    padding-top: @logo-padding-top;
    padding-left: @logo-width;
    color: @text-color;
    font-weight: bold;
    &:hover {
      text-decoration: none;
    }
  }

  .sign-form {
    // all inputs should be small
    .form-control {
      .input-sm();
    }
  }

  .locale-menu {
    .list-inline();

    > li {
      padding: 0;
      opacity: 0.5;

      &:hover, &:active, &.active, &:focus {
        opacity: 1;
      }
    }
  }

  .user-details {
    list-style: none;
    padding: 0;

    svg {
      vertical-align: top;
    }
  }

  // for desktops
  @media (min-width: @grid-float-breakpoint) {
    .sign-form {
      margin-top: -@input-height-small;
      margin-bottom: 0;
    }

    .locale-menu {
      .navbar-vertical-align(@flag-height);
    }

    .user-details {
      margin-top: -@input-height-base;

      > li {
        margin-right: 15px;
      }
    }
  }

  // for mobile platforms
  @media (max-width: @screen-xs-max) {
    .user-details {
      > li > a,
      > li > ul {
        padding: @nav-link-padding;
      }

      .dropdown-toggle {
        display: block;
        border: 0;
        border-radius: 0;
        text-align: left;
        padding: @nav-link-padding;
        background: inherit;

        &:active {
          .box-shadow(none);
        }
      }
    }

    &.navbar-default .user-details {
      border-top: 1px solid @navbar-default-divider-color;

      .dropdown-toggle {
        color: @navbar-default-link-color;
        .caret {
          border-top-color: @navbar-default-link-color;
          border-bottom-color: @navbar-default-link-color;
        }

        &:hover,
        &:focus {
          color: @navbar-default-link-hover-color;
          background-color: @navbar-default-link-hover-bg;
          .caret {
            border-top-color: @navbar-default-link-hover-color;
            border-bottom-color: @navbar-default-link-hover-color;
          }
        }
      }

      .open > .dropdown-toggle {
        &,
        &:hover,
        &:focus {
          background-color: @navbar-default-link-active-bg;
          color: @navbar-default-link-active-color;
          .caret {
            border-top-color: @navbar-default-link-active-color;
            border-bottom-color: @navbar-default-link-active-color;
          }
        }
      }
    }
  }

}
