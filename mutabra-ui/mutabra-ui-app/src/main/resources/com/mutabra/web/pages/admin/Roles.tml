<html t:type="layout" buttons="add"
	  xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
	  xmlns:p="tapestry:parameter">

<t:grid source="roleSource" include="code" add="actions">
	<p:actionsCell>
		<t:dialoglink dialog="addRoleDialog">${message:button.edit.title}</t:dialoglink>|
		<t:eventlink event="delete">${message:button.delete.title}</t:eventlink>
	</p:actionsCell>
</t:grid>

<t:dialog id="addRoleDialog" title="Add Role" modal="true" resizable="true">
	<t:form t:id="addRoleForm">
		<t:beaneditor object="role"/>

		<t:menu items="cancel,add" class="toolbar">
			<p:addMenuItem>
				<t:linksubmit>${message:button.add.title}</t:linksubmit>
			</p:addMenuItem>
			<p:cancelMenuItem>
				<t:dialoglink dialog="addRoleDialog" action="close">${message:button.cancel.title}</t:dialoglink>
			</p:cancelMenuItem>
		</t:menu>
	</t:form>
</t:dialog>

<p:addMenuItem>
	<t:button primary="literal:ui-icon-circle-plus">
		<t:dialoglink dialog="addRoleDialog">${message:button.add.title}</t:dialoglink>
	</t:button>
</p:addMenuItem>

</html>
