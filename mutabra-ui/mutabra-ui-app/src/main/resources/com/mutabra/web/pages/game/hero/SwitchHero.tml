<html t:type="layout/default"
	  xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
	  xmlns:p="tapestry:parameter">

<t:form class="form-horizontal">
	<div class="control-group">
		<div class="controls">
			<t:carousel source="source" row="row" value="value" callback="heroChangeCallback">
				<t:image.heroimage hero="row" width="100" height="100"/>
			</t:carousel>
		</div>
	</div>
	<div class="form-actions">
		<t:loop source="source" value="row" index="index">
			<t:eventlink id="hero-${index}" event="enter" context="row" class="hide btn">${message:label.enter}</t:eventlink>
		</t:loop>
		<t:pagelink page="game/hero/create" class="btn">${message:label.create}</t:pagelink>
	</div>
</t:form>

<script type="text/javascript">
	var selectedHero;
	var heroChangeCallback = function(carousel, item, index) {
		if (selectedHero) {
			selectedHero.hide();
		}
		selectedHero = j$("#hero-" + (index-1));
		selectedHero.show();
	};
</script>
</html>
