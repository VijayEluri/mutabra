<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

	<changeSet id="00" author="ikhalopik@gmail.com" context="schema">
		<createTable tableName="FACE">
			<column name="ID" type="INTEGER" autoIncrement="true">
				<constraints nullable="false" primaryKey="true"/>
			</column>
			<column name="CODE" type="VARCHAR(100)">
				<constraints nullable="false"/>
			</column>
			<column name="VERSION" type="INTEGER" defaultValueNumeric="0">
				<constraints nullable="false"/>
			</column>
		</createTable>

		<addUniqueConstraint constraintName="UK_FACE_CODE"
							 tableName="FACE" columnNames="CODE"/>

		<rollback>
			<dropTable tableName="FACE"/>
		</rollback>
	</changeSet>

	<changeSet id="01" author="ikhalopik@gmail.com" context="init">
		<delete tableName="HERO_CARD"/>
		<delete tableName="HERO"/>
	</changeSet>

	<changeSet id="03" author="ikhalopik@gmail.com" context="schema">
		<addColumn tableName="HERO">
			<column name="ID_FACE" type="INTEGER">
				<constraints nullable="false"/>
			</column>
		</addColumn>

		<addForeignKeyConstraint constraintName="FK_HERO_FACE"
								 baseTableName="HERO" baseColumnNames="ID_FACE"
								 referencedTableName="FACE" referencedColumnNames="ID"/>

		<rollback>
			<dropForeignKeyConstraint baseTableName="HERO" constraintName="FK_HERO_FACE"/>
			<dropColumn tableName="HERO" columnName="ID_FACE"/>
		</rollback>
	</changeSet>

</databaseChangeLog>